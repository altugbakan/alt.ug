---
import { getCollection } from "astro:content";
import { Icon } from "astro-icon";

import BaseLayout from "../layouts/BaseLayout.astro";

const projects = (await getCollection("projects"))
  .sort((p) => Date.parse(p.data.date))
  .reverse();
---

<BaseLayout title="AltuÄŸ's Projects">
  <h1 class="text-center text-4xl font-bold mb-6">Projects</h1>
  {
    projects.map((project) => (
      <div class="mb-5">
        <h2 class="text-2xl font-bold mb-2">{project.data.name}</h2>
        <p class="text-gray- dark:text-gray-400 mb-2">
          {project.data.description}
        </p>
        <div class="flex flex-row space-between gap-2">
          <a
            href={project.data.url}
            rel="noopener noreferrer"
            target="_blank"
            aria-label={`Visit project ${project.data.name}'s webpage`}
          >
            <Icon
              name="mdi:globe"
              class="inline-block w-5 h-5 mr-1 hover:scale-110"
            />
          </a>
          <a
            href={project.data.github}
            rel="noopener noreferrer"
            target="_blank"
            aria-label={`Visit project ${project.data.name}'s GitHub`}
          >
            <Icon
              name="mdi:github"
              class="inline-block w-5 h-5 mr-1 hover:scale-110"
            />
          </a>
        </div>
      </div>
    ))
  }
</BaseLayout>
